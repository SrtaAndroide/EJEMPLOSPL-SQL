VAR B_PORCENTAJE NUMBER;
VAR B_RUT VARCHAR2;
EXEC :B_PORCENTAJE:=0.4;
EXEC :B_RUT:=18560875;
--18560875 11846972
DECLARE
    V_NOMBRE        VARCHAR2(50);
    V_RUT           VARCHAR2(10);
    V_SUELDO        EMPLEADO.SUELDO_EMP%TYPE;
    V_BONIFICACION  EMPLEADO.SUELDO_EMP%TYPE;

BEGIN
    SELECT NOMBRE_EMP||' '||APPATERNO_EMP||' '||APMATERNO_EMP,NUMRUT_EMP||'-'||DVRUT_EMP,SUELDO_EMP
    INTO V_NOMBRE,V_RUT,V_SUELDO
    FROM EMPLEADO
    WHERE NUMRUT_EMP = :B_RUT;
    
    V_BONIFICACION:=V_SUELDO*:B_PORCENTAJE;
    DBMS_OUTPUT.PUT_LINE('DATOS CALCULO BONIFICACION EXTRA DEL 40% DEL SUELDO');
    DBMS_OUTPUT.PUT_LINE('Nombre Empleado: '||V_NOMBRE);
    DBMS_OUTPUT.PUT_LINE('RUN: '||V_RUT);
    DBMS_OUTPUT.PUT_LINE('Sueldo: '||V_SUELDO);
    DBMS_OUTPUT.PUT_LINE('Bonificaci√≥n extra: '||V_BONIFICACION);

END;
/

SELECT * FROM TIPO_PROPIEDAD;
/
--Parcela con Casa
--Departamento sin Amoblar
--Departamento Amoblado
--Casa sin Amoblar
--Sitio
--Local Comercial
--Casa Amoblada
--Parcela sin Casa
VAR B_TIPO_PROPIEDAD VARCHAR2;
EXEC :B_TIPO_PROPIEDAD:='Casa sin Amoblar';

DECLARE

    V_TIPO_PROPIEDAD    TIPO_PROPIEDAD.DESC_TIPO_PROPIEDAD%TYPE;
    V_CANT_PROP         NUMBER(2);
    V_SUM_ARRIENDO      VARCHAR2(20);

BEGIN

    SELECT  TP.DESC_TIPO_PROPIEDAD, COUNT(P.NRO_PROPIEDAD), TO_CHAR(SUM(P.VALOR_ARRIENDO),'$999G999G999')
        INTO V_TIPO_PROPIEDAD, V_CANT_PROP, V_SUM_ARRIENDO
    FROM PROPIEDAD P
        JOIN TIPO_PROPIEDAD TP
            ON (P.ID_TIPO_PROPIEDAD=TP.ID_TIPO_PROPIEDAD)
    WHERE TP.DESC_TIPO_PROPIEDAD IN :B_TIPO_PROPIEDAD
    GROUP BY TP.DESC_TIPO_PROPIEDAD;

    DBMS_OUTPUT.PUT_LINE('RESUMEN DE: '||V_TIPO_PROPIEDAD);
    DBMS_OUTPUT.PUT_LINE('Total de Propiedades: '||V_CANT_PROP);
    DBMS_OUTPUT.PUT_LINE('Valor Total Arriendo: '||V_SUM_ARRIENDO);
EXCEPTION
    WHEN OTHERS THEN 
        DBMS_OUTPUT.PUT_LINE('ERROR!!! ');
END;
/
--UPDATE 
SELECT * FROM
EMPLOYEES
--SET salary = salary + 10
WHERE job_id = 'ST_CLERK';
